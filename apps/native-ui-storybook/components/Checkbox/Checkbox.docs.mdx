import { Meta, Canvas, Story, Primary, Controls } from '@storybook/blocks';
import * as Stories from './Checkbox.stories';
import {
  Checkbox,
  CheckboxGroup,
  CheckboxIndicator,
  CheckboxLabel,
  Center,
  Box,
  Text,
  NativeUIProvider,
} from '@utilitywarehouse/native-ui';
import { TickSmallIcon } from '@utilitywarehouse/react-native-icons';
import { ViewFigmaButton, BackToTopButton } from '../../docs/components';

<Meta of={Stories} />

<ViewFigmaButton url="https://www.figma.com/design/3RY3OvLA88yZksRjOfjQJm/UW-App-UI?node-id=4454-2156" />

<BackToTopButton />

# Checkbox

Whether you're building a simple form or a complex data collection system, the Checkbox component offers a user-friendly way for users to select multiple options from a list.

- [Playground](#playground)
- [Usage](#usage)
- [Props](#props)
- [Components](#components)
  - [Checkbox](#checkbox)
  - [CheckboxIndicator](#checkboxindicator)
  - [CheckboxIcon](#checkboxicon)
  - [CheckboxLabel](#checkboxlabel)
  - [CheckboxGroup](#checkboxgroup)
- [Variants](#variants)
- [Advanced Usage](#advanced-usage)

## Playground

<Primary />

<Controls />

## Usage

> This component should be wrapped in a `NativeUIProvider` component to ensure that the correct theme is applied.

<Canvas>
  <NativeUIProvider>
    <Center>
      <Checkbox
        value="Label"
        onChange={checked => console.log(checked, '###')}
        label="I accept the terms and conditions"
      />
    </Center>
  </NativeUIProvider>
</Canvas>

```tsx
import { Checkbox, CheckboxIndicator, CheckboxLabel } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  const [accepted, setAccepted] = React.useState(false);
  return (
    <Checkbox
      value="accepted"
      onChange={(checked: boolean) => setAccepted(checked)}
      label="I accept the terms and conditions"
    />
  );
};
```

## Props

| Property         | Type                       | Default | Description                                                                                                          |
| ---------------- | -------------------------- | ------- | -------------------------------------------------------------------------------------------------------------------- |
| `value`          | `string`                   | -       | The value to be used in the checkbox input. This is the value that will be returned on form submission.              |
| `onChange`       | `(value: boolean) => void` | -       | Function called when the state of the checkbox changes.                                                              |
| `defaultchecked` | `bool`                     | `false` | If true, the checkbox will be initially checked.                                                                     |
| `checked`        | `bool`                     | `false` | When true, the checkbox will be checked. You'll need to pass onChange update it's value (since it's now controlled). |
| `disabled`       | `bool`                     | `false` | To manually set disable to the checkbox.                                                                             |

## Components

### `Checkbox`

The `Checkbox` component is the wrapper for the checkbox input. It is used to handle the state of the checkbox input.

<Canvas>
  <NativeUIProvider>
    <Center>
      <Checkbox value="Label" onChange={() => console.log(checked, '###')} label="Subscribe" />
    </Center>
  </NativeUIProvider>
</Canvas>

```tsx
import { Checkbox, CheckboxIndicator, CheckboxLabel } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  const [subscribed, setSubscribed] = React.useState(false);
  return (
    <Checkbox
      value="subscribed"
      onChange={(checked: boolean) => setSubscribed(checked)}
      label="Subscribe"
    />
  );
};
```

### `CheckboxIndicator`

The `CheckboxIndicator` component is used to create the visual representation of the checkbox input. It inherits all the properties of React Native's `View` component.

- Use checkboxes (instead of Toggle Switch or Radio) if multiple options can be selected from a list
- On table rows
- On multiple selection components, such as a Multi Select Component.

### `CheckboxIcon`

The `CheckboxIcon` component is used to create the icon for the checkbox input. It inherits all the properties of React Native SVG's `SVG` component.

### `CheckboxLabel`

The `CheckboxLabel` component is used to create the label for the checkbox input. It inherits all the properties of React Native's `Text` component.

### `CheckboxGroup`

The `CheckboxGroup` component is used to group multiple checkbox inputs together. It inherits all the properties of React Native's `View` component.

_\* **Note:** the `CheckboxGroup` component is not in Figma_

<Canvas>
  <NativeUIProvider>
    <Center>
      <CheckboxGroup
        aria-label="Checkbox Group"
        value={['Label 1']}
        nativeID="checkbox-group"
      >
        <Checkbox
          value="Label 1"
          aria-label="Label 1"
          onChange={(checked) =>
            console.log(checked, '###')
          }
        label="Label 1" />
        <Checkbox
          value="Label 2"
          aria-label="Label 2"
          onChange={(checked) =>
            console.log(checked, '###')
          }
         label="Label 2" />
      </CheckboxGroup>
    </Center>

  </NativeUIProvider>
</Canvas>

```jsx
import {
  Checkbox,
  CheckboxGroup,
  CheckboxIndicator,
  CheckboxLabel,
} from '@utilitywarehouse/native-ui';

import { TickSmallIcon } from '@utilitywarehouse/react-native-icons';

const MyComponent = () => {
  const [values, setValues] = React.useState(['option1']);
  return (
    <CheckboxGroup
      aria-label="Checkbox Group"
      value={values}
      onChange={setValues}
      nativeID="checkbox-group"
    >
      <Checkbox
        value="option1"
        aria-label="Label 1"
        onChange={(checked: boolean) => console.log(checked, '###')}
        label="Label 1"
      />
      <Checkbox
        value="option2"
        aria-label="Label 2"
        onChange={(checked: boolean) => console.log(checked, '###')}
        label="Label 2"
      />
    </CheckboxGroup>
  );
};
```

| Property    | Type                              | Default | Description                                                            |
| ----------- | --------------------------------- | ------- | ---------------------------------------------------------------------- |
| `value`     | `string[]`                        | -       | The value of the checkbox group.                                       |
| `onChange`  | `(values: Array<string>) => void` | -       | The callback fired when any children Checkbox is checked or unchecked. |
| `disabled`  | `bool`                            | `false` | To manually set disable to the checkbox.                               |
| `isInvalid` | `bool`                            | `false` | To manually set invalid to the checkbox.                               |
| `readonly`  | `bool`                            | `false` | To manually set read-only to the checkbox.                             |

## Variants

<Canvas of={Stories.Variants} />

## Advanced Usage

You can create a custom checkbox by using the `CheckboxIndicator`, `CheckboxIcon` and `CheckboxLabel` components.

<Canvas>
  <NativeUIProvider>
    <Center>
    <Box gap="$2">
      <Text>Which fruit do you enjoy?</Text>
      <CheckboxGroup>
        <Checkbox
          value="Apple"
          aria-label="Apple"
          onChange={(checked) =>
            console.log(checked, '###')
          }
          label='Apple'
        />
        <Checkbox
          value="Banana"
          aria-label="Banana"
          onChange={(checked) =>
            console.log(checked, '###')
          }
          label='Banana'
        />
        <Checkbox
          value="Orange"
          aria-label="Orange"
          onChange={(checked) =>
            console.log(checked, '###')
          }
          label='Orange'
        />
        <Checkbox
          value="Grapes"
          aria-label="Grapes"
          onChange={(checked) =>
            console.log(checked, '###')
          }
          label='Grapes'
          />
      </CheckboxGroup>
      </Box>
    </Center>

  </NativeUIProvider>
</Canvas>

```tsx
import {
  CheckboxGroup,
  Checkbox,
  CheckboxIndicator,
  CheckboxLabel,
  Text,
} from '@utilitywarehouse/native-ui';
import { Box } from '@utilitywarehouse/native-ui/lab';

const MyComponent = () => {
  const [values, setValues] = React.useState([]);
  return (
    <Box gap="$2">
      <Text>Which fruit do you enjoy?</Text>
      <CheckboxGroup
        aria-label="Checkbox Group"
        value={values}
        onChange={setValues}
        nativeID="checkbox-group"
      >
        <Checkbox value="Apple" aria-label="Apple">
          <CheckboxIndicator>
            <CheckboxIcon />
          </CheckboxIndicator>
          <CheckboxLabel>Apple</CheckboxLabel>
        </Checkbox>
        <Checkbox value="Banana" aria-label="Banana">
          <CheckboxIndicator>
            <CheckboxIcon />
          </CheckboxIndicator>
          <CheckboxLabel>Banana</CheckboxLabel>
        </Checkbox>
        <Checkbox value="Orange" aria-label="Orange">
          <CheckboxIndicator>
            <CheckboxIcon />
          </CheckboxIndicator>
          <CheckboxLabel>Orange</CheckboxLabel>
        </Checkbox>
        <Checkbox value="Grapes" aria-label="Grapes">
          <CheckboxIndicator>
            <CheckboxIcon />
          </CheckboxIndicator>
          <CheckboxLabel>Grapes</CheckboxLabel>
        </Checkbox>
      </CheckboxGroup>
    </Box>
  );
};
```
