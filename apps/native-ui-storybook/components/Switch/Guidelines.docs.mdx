import { Meta, Canvas } from '@storybook/blocks';
import * as Stories from './Switch.stories';
import {
  Button,
  Center,
  NativeUIProvider,
  HStack,
  VStack,
  Card,
  Heading,
  Text,
  List,
  ListItem,
  Icon,
  Image,
  Switch,
  FormField,
  FormFieldLabel,
  FormFieldLabelText,
} from '@utilitywarehouse/native-ui';
import { SettingsMediumIcon, TrashSmallIcon } from '@utilitywarehouse/react-native-icons';
import { Box } from '@utilitywarehouse/native-ui/lab';
import {
  ViewFigmaButton,
  BackToTopButton,
  DocComponentWrap,
  DynamicImage,
  ColorModeToggleIcons,
  HideInDarkMode,
} from '../../docs/components';

<Meta of={Stories} />

<ViewFigmaButton url="https://www.figma.com/design/3RY3OvLA88yZksRjOfjQJm/UW-App-UI?node-id=850-1596" />

<BackToTopButton />

# Switch Design Guidelines

- [Definition](#definition)
- [Usage](#usage)
  - [When not to use Switch](#when-not-to-use-switch)
  - [When to use Switch](#when-to-use-switch)
- [Properties & Attributes](#properties--attributes)
  - [state](#state)
  - [checked](#checked)
  - [disabled](#disabled)
  - [size](#size)
- [Theme](#theme)
  - [light / dark](#light--dark)
- [Accessibility considerations](#accessibility-considerations)

## Definition

The Switch component is used to indicate switching between two opposing options. Switches allow users
to turn an individual option on or off. They are usually used to activate or deactivate a specific setting.

## Usage

### When not to use Switch

❌ Do not use Switch when presenting multiple options.<br />
❌ Do not use it for selections that require validation, such as error messages. Use
[Checkbox](/?path=/docs/native-ui-components-checkbox--docs) instead.

### When to use Switch

✅ Use when presenting users with a binary choice. Such as yes/no or on/off<br />
✅ Use to enable users to change a single setting<br />
✅ Use for changes that have an instant response and take immediate effect<br />
✅ Use for changing system-level settings, preferences, or other functions

Typically, a Switch is used within a [List Item](/?path=/docs/native-ui-components-list--docs) that serves as a label for it.

<DocComponentWrap>
  <VStack space="lg">
    <List>
      <ListItem
        text="Notifications"
        supportingText="Get all notifications messages"
        divider
        trailingContent={<Switch value={true} size="small" />}
      />
    </List>
    <List>
      <ListItem
        text="Notifications"
        supportingText="Get all notifications messages"
        divider
        trailingContent={<Switch value={false} size="small" />}
      />
    </List>
    <List disabled>
      <ListItem
        text="Notifications"
        supportingText="Get all notifications messages"
        divider
        trailingContent={<Switch value={true} disabled size="small" />}
      />
    </List>
  </VStack>
</DocComponentWrap>

When the Switch is not placed in a List Item, you should use the Label component next to it.

<DocComponentWrap>
  <VStack space="lg">
    <FormField>
      <HStack space="md" style={{ alignItems: 'center' }}>
        <Switch size="small" value={true} />
        <FormFieldLabel>
          <FormFieldLabelText nested>
            A Switch needs a Label when is not in a List Item
          </FormFieldLabelText>
        </FormFieldLabel>
      </HStack>
    </FormField>
    <FormField>
      <HStack space="md" style={{ alignItems: 'center' }}>
        <Switch size="medium" value={false} />
        <FormFieldLabel>
          <FormFieldLabelText nested>Monthly payment</FormFieldLabelText>
        </FormFieldLabel>
      </HStack>
    </FormField>
    <FormField>
      <HStack space="md" style={{ alignItems: 'center' }}>
        <FormFieldLabel>
          <FormFieldLabelText nested={true}>Year</FormFieldLabelText>
        </FormFieldLabel>
        <Switch size="medium" value={true} />
      </HStack>
    </FormField>
  </VStack>
</DocComponentWrap>

## Properties & Attributes

### state

The Switch component starts in a default state that allows for user interaction. When pressed,
the checked property toggles between true and false.

There is no visual indication of a pressed state other than this property switching.

<DocComponentWrap>
  <Switch value={true} />
</DocComponentWrap>
_Pressing will switch to checked false_

<DocComponentWrap>
  <Switch value={false} />
</DocComponentWrap>
_Pressing will switch to checked true_

### checked

The ARIA switch role functions like a checkbox but indicates "on" and "off" states instead
of "checked" and "unchecked."

- In this context, the "checked" state is considered equivalent to being "on.
- Checked set to false is equivalent to off.

### disabled

The disabled attribute prevents user interaction with the Switch.

<DocComponentWrap>
  <VStack space="lg">
    <HStack space="lg">
      <Switch value={true} disabled size="small" />
      <Switch value={false} disabled />
    </HStack>
    <List>
      <ListItem
        text="A disabled List item"
        supportingText="Get all notifications messages"
        divider
        trailingContent={<Switch value={true} disabled size="small" />}
      />
    </List>
    <FormField disabled>
      <HStack space="md" style={{ alignItems: 'center' }}>
        <Switch disabled />
        <FormFieldLabel>
          <FormFieldLabelText>Enable notifications</FormFieldLabelText>
        </FormFieldLabel>
      </HStack>
    </FormField>
  </VStack>
</DocComponentWrap>

### size

The sizes range from small to medium and can adapt to your design context.
Typically, we will use the small size (24) for the List as it is the default size.

<DocComponentWrap>
  <HStack space="lg">
    <Switch value={true} size="small" />
    <Switch value={true} size="medium" />
  </HStack>
</DocComponentWrap>

## Theme

The Switch component is available in light and dark themes using [Figma modes](https://help.figma.com/hc/en-us/articles/15343816063383-Modes-for-variables).

### light / dark

Using the light theme

<DocComponentWrap>
  <Box p="$5" backgroundColor="$grey50">
    <VStack space="lg">
      <HStack space="lg">
        <Switch value={true} size="small" />
        <Switch value={false} size="small" />
        <Switch value={true} size="small" disabled />
        <Switch value={false} size="small" disabled />
      </HStack>
      <HStack space="lg">
        <Switch value={true} size="medium" />
        <Switch value={false} size="medium" />
        <Switch value={true} size="medium" disabled />
        <Switch value={false} size="medium" disabled />
      </HStack>
    </VStack>
  </Box>
</DocComponentWrap>

<div style={{ display: 'flex', alignItems: 'center', gap: 10, marginTop: 16 }}>
  <div>
    <ColorModeToggleIcons />
  </div>
  <Text italic>Toggle the theme to see the colorScheme change</Text>
</div>

## Accessibility considerations

Switch has been designed to ensure that AA standards have been adhered. Colours must not be changed.

The inclusion of icons on Switch provides clear visual distinction between checked true or false.
For this reason the icons must not be removed or changed.

❌ Do not override colours<br/>
❌ Do not change or remove icons
