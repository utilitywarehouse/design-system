import { Meta, Primary, Controls, Story, Canvas } from '@storybook/blocks';
import * as Stories from './Alert.stories';
import {
  Alert,
  Center,
  NativeUIProvider,
  config,
  AlertIcon,
  AlertText,
  AlertTitle,
  AlertLink,
  AlertLinkChevron,
  AlertLinkText,
  AlertIconButton,
  AlertIconButtonChevron,
  AlertCloseButton,
  AlertCloseButtonIcon,
  VStack,
} from '@utilitywarehouse/native-ui';
import {
  InformationMediumContainedIcon,
  ChevronRightMediumIcon,
  ChevronRightSmallIcon,
  CloseSmallIcon,
} from '@utilitywarehouse/react-native-icons';
import { ViewFigmaButton, BackToTopButton } from '../../docs/components';

<Meta of={Stories} />

<ViewFigmaButton url="https://www.figma.com/design/3RY3OvLA88yZksRjOfjQJm/UW-App-UI?node-id=1746-4235" />

<BackToTopButton />

# Alert

The `Alert` component displays a short, important message in a way that attracts the user's attention without interrupting the user's task.
This component should be used to flag information of high importance, whether it be an error, warning, success or information.
The Alert offers different colour schemes, the colour scheme is mapped to an icon

- [Playground](#playground)
- [Usage](#usage)
- [Props](#props)
- [Variants](#variants)
- [Advanced Usage](#advanced-usage)

## Playground

<Primary />

<Controls />

## Usage

> This component should be wrapped in a `NativeUIProvider` component to ensure that the correct theme is applied.

<Canvas>
  <NativeUIProvider>
    <Alert
      colorScheme="cyan"
      title="Information"
      text="Unlock the power of knowledge with the following information."
    />
  </NativeUIProvider>
</Canvas>

```tsx
import { Alert } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <Alert
      colorScheme="cyan"
      title="Information"
      text="Unlock the power of knowledge with the following information."
    />
  );
};
```

## Props

| Property            | Type                                   | Description                                                        | Default |
| ------------------- | -------------------------------------- | ------------------------------------------------------------------ | ------- |
| `colorScheme`       | `'cyan' \| 'green' \| 'gold' \| 'red'` | The colour scheme of the alert. Mapped to an icon.                 | 'info'  |
| `title`             | `string`                               | The title of the alert.                                            |         |
| `text`              | `string`                               | The text of the alert.                                             |         |
| `link`              | `string`                               | The text of the link.                                              |         |
| `onPressLink`       | `() => void`                           | A callback function to be called when the link is clicked.         |         |
| `onPressIconButton` | `() => void`                           | A callback function to be called when the icon button is clicked.  |         |
| `onClose`           | `() => void`                           | A callback function to be called when the close button is clicked. |         |

## Variants

The `Alert` component has four colour schemes: cyan, green, gold and red. Each colour scheme is mapped to an icon.

<Canvas of={Stories.Variants} />

## Advanced Usage

If you need to use the Alert component in a more advanced way, you can use the parts of the component directly.

<Canvas>
  <NativeUIProvider>
    <Alert colorScheme="cyan">
      <AlertIcon />
      <VStack flex={1} gap={4}>
        <AlertTitle>Information</AlertTitle>
        <AlertText>Unlock the power of knowledge with the following information.</AlertText>
        <AlertLink onPress={() => console.log('Link clicked')}>
          <AlertLinkText>Learn more</AlertLinkText>
          <AlertLinkChevron />
        </AlertLink>
      </VStack>
      <AlertIconButton onPress={() => console.log('Icon button clicked')}>
        <AlertIconButtonChevron />
      </AlertIconButton>
      <AlertCloseButton onClose={() => console.log('Close button clicked')}>
        <AlertCloseButtonIcon />
      </AlertCloseButton>
    </Alert>

  </NativeUIProvider>
</Canvas>

```tsx
import {
  Alert,
  AlertIcon,
  AlertText,
  AlertTitle,
  AlertLink,
  AlertLinkChevron,
  AlertLinkText,
  AlertIconButton,
  AlertIconButtonChevron,
  AlertCloseButton,
  AlertCloseButtonIcon,
} from '@utilitywarehouse/native-ui';
import { InformationMediumContainedIcon } from '@utilitywarehouse/react-native-icons';

const MyComponent = () => {
  return (
    <Alert colorScheme="cyan">
      <AlertIcon as={InformationMediumContainedIcon} />
      <VStack flex={1} gap={4}>
        <AlertTitle>Information</AlertTitle>
        <AlertText>Unlock the power of knowledge with the following information.</AlertText>

        <AlertLink onPress={() => console.log('Link clicked')}>
          <AlertLinkText>Learn more</AlertLinkText>
          <AlertLinkChevron />
        </AlertLink>
      </VStack>
      {/* Note: AlertIconButton should not be used with the AlertLink component */}
      <AlertIconButton onPress={() => console.log('Icon button clicked')}>
        <AlertIconButtonChevron />
      </AlertIconButton>

      <AlertCloseButton onClose={() => console.log('Close button clicked')}>
        <AlertCloseButtonIcon />
      </AlertCloseButton>
    </Alert>
  );
};
```
