import { Meta, Canvas, ArgTypes, Description } from '@storybook/blocks';
import Button from './Button.tsx';
import * as Stories from './Button.stories';

{console.log({Stories})}

<Meta of={Stories} />

# Button

<Description />

## Semantic HTML

By default Button renders a `button` element, however if you pass a valid `href` prop then a `a` element will be rendered.
You are still able to use the `onClick` prop, for example to track the usage of the link.

```tsx
<Button href="https://uw.co.uk" onClick={handleAnchorUsage}>...</Box>
```

## Variants

<Canvas of={Stories.ButtonVariants} />

## Sizes

The tertiary Button has only one size and is not affected by the `size` prop.

<Canvas of={Stories.ButtonSizes} />

## Contextual color

When inside a `Box` component that specifies a `backgroundColor` which is the
value of either `colorsCommon.brandMidnight` or
`colorsCommon.brandPrimaryPurple`, the `Button` colors will be slightly different.

This is also the case when rendered inside the deprecated `Background`
component with a `backgroundColor` of either `purple` or `midnight`.

## Icons

Use the `startIcon` and `endIcon` props to include icons alongside the button
label. We recommend using the available [icons packages](https://uw-icons.vercel.app/?path=/story/react-icons--icons) for
this.

<Canvas of={Stories.WithIcons} />

## Usage in Next.js

You can use the `Button` component, when rendering a link element, with the `Link` component from `next/link`:

```tsx
import { ButtonProps as MuiButtonProps } from '@mui/material';
import { Button, ButtonProps as WebUiButtonProps } from '@utilitywarehouse/web-ui';
import NextLink, { LinkProps as NextLinkProps } from 'next/link';

export type ButtonLinkProps = WebUiButtonProps &
  Omit<React.ComponentPropsWithoutRef<'a'>, keyof WebUiButtonProps | 'href' | 'onClick'> & {
    href: NextLinkProps['href'];
    onClick?: MuiButtonProps['onClick'];
  };

export const ButtonLink: React.FC<ButtonLinkProps> = ({ href, ...props }) => (
  <NextLink href={href} passHref>
    <Button {...(props as WebUiButtonProps)} />
  </NextLink>
);

export default ButtonLink;
```

## Props

<ArgTypes of={Stories} />
