import { Meta, Canvas, ArgTypes, Description } from '@storybook/blocks';
import * as Stories from './Button.stories';

<Meta of={Stories} />

# Button

<Description />

<Canvas of={Stories.SimpleExample} />

## Contents

- [Usage](#usage)
- [Accessibility](#accessibility)
  - [Known issues](#known-issues)
- [Variant](#variant)
  - [Solid](#solid)
  - [Outline](#outline)
  - [Ghost](#ghost)
- [ColorScheme](#colorscheme)
  - [Cyan](#cyan)
  - [Green](#green)
  - [Red](#red)
  - [Gold](#gold)
  - [Grey](#grey)
- [Size](#size)
- [With icons](#with-icons)
- [Semantic HTML](#semantic-html)
- [Full Width Button](#full-width-button)
- [API Reference](#api-reference)

## Usage

This `Button` component is part of the lab submodule, a way for us to make new
components available prior to an official major release. This helps us bed in
new components before introducing breaking changes, and to avoid blocking the
availability of these components for designers.

There are 2 options for importing this component.

1. Import directly from the `lab` directory.

```tsx
import { Box } from '@utilitywarehouse/web-ui';
import { Button } from '@utilitywarehouse/web-ui/dist/lab';

[...]

<Box>
  <Button>Button</Button>
</Box>;
```

2. Import `Lab` directly from Web UI.

```tsx
import { Box, Lab } from '@utilitywarehouse/web-ui';

[...]

<Box>
  <Lab.Button>Button</Lab.Button>
</Box>
// or
const { Button } = Lab
<Box>
  <Button>Button</Button>
</Box>
```

## Accessibility

Uses a native `<button>` element under the hood, with support for the <kbd>Space</kbd> and <kbd>Enter</kbd> keys.

### Known issues

We are aware that the `cyan` background colour for the `solid` variant does not
meet colour contrast standards. There is an ongoing discussion with the Brand
and Creative team about how we can replace this with an accessible colour which
does not undermine the brand design.

## Variant

The variant prop controls the visual appearance of the button.

```tsx
<Flex gap={2} align="center">
  <Button variant="solid">Button</Button>
  <Button variant="outline">Button</Button>
  <Button variant="ghost">Button</Button>
</Flex>
```

### Solid

Solid buttons are typically used for primary actions that require high emphasis.

The solid button can be combined with the `cyan`, `red` & `green` color schemes.

<Canvas of={Stories.SolidVariant} />

### Outline

Outline buttons typically have a medium level of emphasis. They are best suited
for non-critical actions.

The outline button can be combined with all color schemes.

<Canvas of={Stories.OutlineVariant} />

### Ghost

Ghost buttons are designed to have a lower prominence compared to the other
button variants. They are initially invisible until interacted with, when
their background becomes visible, on hover and other states. This makes them
suitable for actions that are not as important as the primary one and also
allows them to be used as building blocks for other components.

The ghost button can be combined with all color schemes.

<Canvas of={Stories.GhostVariant} />

## ColorScheme

The colorScheme prop will change the button colours. Be aware there are some
combinations of colorScheme & variant that do not work together (ie. `solid` &
`grey`), and if used will render a button with no colours at all.

```tsx
<Button colorScheme="red">
```

### Cyan

Cyan serves as the default color scheme for primary actions.

### Green

The green button color scheme is ideal for indicating positive or affirmative
actions. This color can be used when you want to draw attention to actions that
confirm or approve something.

### Red

The red color scheme is most suitable for destructive actions that could result
in data loss, are irreversible, or will have significant and negative
consequences for the user. It serves as a visual warning to approach such
actions with caution due to their potential substantial impact.

### Gold

Gold buttons are commonly linked to actions that demand user attention or
decision-making. They serve as a signal to users that they should proceed with
care. However, it's important to note that gold buttons don't convey the same
level of urgency or potential consequences as red buttons do.

### Grey

The grey color scheme is best suited for situations where you want the button
to have very low prominence. It's especially useful in designs that are
color-heavy, as it allows the button to blend in with the overall color scheme,
making it less visually prominent.

## Size

The size prop controls the size of the button. This is a responsive prop and
can be used to display different sizes at different breakpoints.

<Canvas of={Stories.Sizes} />

```tsx
<Button
  size={{
    mobile: 'small',
    desktop: 'large',
  }}
/>
```

## With icons

You can nest icons directly inside the button. An appropriate gap is provided
automatically, and the icon will inherit the appropriate colours.

This button is intended to be used with the UW icons packages. Small buttons
should use 16px icons (small), while large buttons should use 24px icons
(medium).

Using other icons may result in an unexpected appearance.

<Canvas of={Stories.SimpleExample} />

```tsx
<Button variant="solid" size="large">
  <SettingsMediumIcon />
  Edit account
</Button>
```

Icons from the UW icons packages have `aria-hidden="true"` set by default. If
you are using an icon from outside these packages, and for purely decorative
reasons, please ensure it has this attribute set so that the icon is hidden
from screen readers.

Please also add the `data-icon` attribute to your icon so that it renders the
appropriate styles.

```tsx
<Button variant="solid" size="large">
  <MyFontIcon aria-hidden="true" data-icon />
  Edit account
</Button>
```

## Semantic HTML

A semantic HTML button is rendered by default, however you can change the underlying HTML element by using the `asChild` prop.
When `asChild` is set to true, Radix will not render a default DOM element,
instead cloning the child and passing it the props and behaviour required to
make it functional.
Read more about this idea in the [Radix UI composition docs](https://www.radix-ui.com/primitives/docs/guides/composition).

<Canvas of={Stories.AsLink} />

```tsx
<Button asChild>
  <a href="https://uw.co.uk/services">
    View UW services
    <OpenMediumIcon />
  </a>
</Button>
```

## Full Width Button

Use layout components, like `Flex`, to define your UI layouts.

<Canvas of={Stories.FullWidth} />

```tsx
<Flex direction="column" align="stretch">
  <Button>Button</Button>
</Flex>
```

## API Reference

<ArgTypes of={Stories} />
